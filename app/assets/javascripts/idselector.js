function gen_selector(){function x(b){window.console&&window.console.log("ID Selector: "+b)}function w(b,f){this.grid=b;this.idx=f;var c=this.td=d.createElement("td");a=c.style;a.fontWeight="bold";a.padding="4px";a.verticalAlign="middle";a.cursor="pointer";var g=this;c.onmouseover=function(){g.onMouseOver()};c.onmouseout=function(){g.onMouseOut()};c.onclick=function(){g.onClick()};var e=p[f],h=d.createElement("img");h.src=e?"/images/openid/"+e.icon:"/images/openid/openid.ico";h.style.width="16px";
h.style.height="16px";h.style.verticalAlign="middle";c.appendChild(h);c.appendChild(d.createTextNode(" "));c.appendChild(d.createTextNode(e?e.shortname:"Other OpenID"));this.selected=!1}function y(){this.table=d.createElement("table");this.table.style.backgroundColor="#FFF";this.table.style.width="100%";this.table.style.border="1px solid #6e91af";this.tbody=d.createElement("tbody");this.table.appendChild(this.tbody);this.maxOffset=12*(Math.ceil(p.length/12)-1);this.cells=[];for(var b=0;b<p.length;b++)this.cells[b]=
new w(this,b);this.rows=[d.createElement("tr"),d.createElement("tr"),d.createElement("tr"),d.createElement("tr")];this.otherCell=new w(this,-1);var f=d.createElement("td");f.style.padding="4px";f.style.textAlign="right";f.style.verticalAlign="middle";f.colSpan=2;f.innerHTML='<a href="http://openid.net/" style="color:#6e91af;" target="_blank">Help</a>';b=d.createElement("tr");b.style.borderTop="1px solid #AAA";b.appendChild(this.otherCell.td);b.appendChild(f);for(f=0;4>f;f++)this.tbody.appendChild(this.rows[f]);
this.tbody.appendChild(b);this.offset=0}function u(){var b=(z?document.body.clientWidth:document.documentElement.clientWidth)+(window.ActiveXObject?z?document.body.scrollLeft:document.documentElement.scrollLeft:window.pageXOffset)-401,f=c.offsetLeft,a=c.offsetTop;if(c.clientTop)a+=c.clientTop;else if(document.defaultView&&document.defaultView.getComputedStyle)var d=document.defaultView.getComputedStyle(c,""),a=a+parseInt(d.getPropertyValue("border-top-width")),a=a+parseInt(d.getPropertyValue("border-bottom-width"));
for(var e=c.offsetParent;e;)f+=e.offsetLeft,a+=e.offsetTop,e.clientLeft?(f+=e.clientLeft,a+=e.clientTop):document.defaultView&&document.defaultView.getComputedStyle&&(d=document.defaultView.getComputedStyle(e,""),a+=parseInt(d.getPropertyValue("border-top-width")),f+=parseInt(d.getPropertyValue("border-left-width"))),e=e.offsetParent;a+=c.offsetHeight;f=Math.max(Math.min(f,b),0);b=h.style;b.left=f+"px";b.top=a+"px";b.display="block";b.height=q.offsetHeight+2+"px"}function r(){h.style.display="none"}
function A(){var b=c;if(b.isTextEdit){var a=b.createTextRange();a&&(a.move("character",b.value.length),a.select())}u()}var z="CSS1Compat"!=document.compatMode,a,p=[{longname:"myOpenID",shortname:"myOpenID",url_suffix:".myopenid.com/",usercalled:"username",icon:"myopenid.ico",id:8,website:"https://www.myopenid.com/",openid1:!0,url_prefix:"http://",openid2:!0},{longname:"Google",shortname:"Google",url_suffix:"",usercalled:"username",icon:"google.ico",id:3,website:"https://www.google.com/accounts/o8/id",
openid1:!1,url_prefix:"https://www.google.com/accounts/o8/id",openid2:!0},{longname:"Flickr",shortname:"Flickr",url_suffix:"",usercalled:"username",icon:"flickr.ico",id:6,website:"http://www.flickr.com/",openid1:!1,url_prefix:"http://www.flickr.com/photos/",openid2:!0},{longname:"Yahoo!",shortname:"Yahoo!",url_suffix:"",usercalled:"yahoo id",icon:"yahoo.ico",id:15,website:"http://yahoo.com/",openid1:!0,url_prefix:"http://me.yahoo.com/",openid2:!1},{longname:"America Online/AIM",shortname:"AOL",url_suffix:"",
usercalled:"screenname",icon:"aol.ico",id:1,website:"http://www.aol.com/",openid1:!0,url_prefix:"http://openid.aol.com/",openid2:!1},{longname:"Google Blogger",shortname:"Blogger",url_suffix:".blogspot.com/",usercalled:"blog name",icon:"blogger.ico",id:2,website:"http://www.blogger.com/",openid1:!0,url_prefix:"http://",openid2:!1},{longname:"Livejournal",shortname:"Livejournal",url_suffix:".livejournal.com/",usercalled:"username",icon:"lj.ico",id:7,website:"http://www.livejournal.com/",openid1:!0,
url_prefix:"http://",openid2:!1},{longname:"Verisign PIP",shortname:"Verisign",url_suffix:".pip.verisignlabs.com/",usercalled:"username",icon:"verisign.ico",id:11,website:"http://pip.verisignlabs.com/",openid1:!0,url_prefix:"http://",openid2:!0},{longname:"Vidoop",shortname:"Vidoop",url_suffix:".myvidoop.com/",usercalled:"username",icon:"vidoop.ico",id:12,website:"http://www.vidoop.com/",openid1:!0,url_prefix:"http://",openid2:!0},{longname:"claimID",shortname:"claimID",url_suffix:"",usercalled:"username",
icon:"claimid.ico",id:4,website:"http://claimid.com/",openid1:!0,url_prefix:"http://claimid.com/",openid2:!1},{longname:"Technorati",shortname:"Technorati",url_suffix:"",usercalled:"username",icon:"technorati.ico",id:10,website:"http://www.technorati.com/",openid1:!0,url_prefix:"http://technorati.com/people/technorati/",openid2:!1},{longname:"Vox",shortname:"Vox",url_suffix:".vox.com/",usercalled:"username",icon:"vox.ico",id:13,website:"http://www.vox.com/",openid1:!0,url_prefix:"http://",openid2:!1},
{longname:"Wordpress",shortname:"Wordpress",url_suffix:".wordpress.com/",usercalled:"username",icon:"wordpress.ico",id:14,website:"http://www.wordpress.com/",openid1:!0,url_prefix:"http://",openid2:!1}],c=document.getElementById("openid_identifier");if(null==c){x("couldn't find openid input box with id = openid_identifier");for(i=0;!c&&i<document.forms.length;i++)c=document.forms[i].openid_identifier;for(i=0;!c&&i<document.forms.length;i++)c=document.forms[i].openid_url}if(null==c)x("couldn't find openid input box");
else{var v=document.createElement("img");a=v.style;a.width="16px";a.height="16px";a.verticalAlign="middle";a.padding="0px";a.border="0px";a.margin="0px";a.display="inline";var g=document.createElement("div");g.innerHTML='<button type="button"></button>';var e=document.createElement("img");e.src="https://www.idselector.com/images/arrow.gif";e.style.display="inline";var j=g.firstChild;g.removeChild(j);j.id="__idselector_button";j.style.cursor="pointer";j.appendChild(v);j.appendChild(document.createTextNode(" "));
j.appendChild(e);var h=new Element("iframe",{src:"/empty.html"});h.id="idselector";h.frameBorder=0;h.scrolling="no";a=h.style;a.display="none";a.position="absolute";a.width="400px";a.height="0px";a.margin="0px";a.padding="0px";a.zIndex=1E4;a.border="0px";g=c.parentNode;g.insertBefore(j,c.nextSibling);g.insertBefore(document.createTextNode(" "),j);document.body.appendChild(h);var d=h.contentWindow.document;d.open();d.write('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><title>ID Selector</title><style type="text/css">html{color:#000;background:transparent;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:\'\';}abbr,acronym {border:0;font-variant:normal;}sup {vertical-align:text-top;}sub {vertical-align:text-bottom;}input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;}input,textarea,select{*font-size:100%;}legend{color:#000;}body {border:1px solid #083145;font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}table {font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:monospace;*font-size:108%;line-height:100%;}</style></head><body></body></html>');
d.close();var q=d.body,s=d.createElement("img");s.style.verticalAlign="middle";s.style.cursor="pointer";s.src="https://www.idselector.com/images/arrow_white_back.png";var t=d.createElement("img");t.style.verticalAlign="middle";t.style.cursor="pointer";t.src="https://www.idselector.com/images/arrow_white_forward.png";e=d.createElement("div");e.style[document.all?"styleFloat":"cssFloat"]="right";e.innerHTML='<a href="https://www.myopenid.com/signup" style="color:#fff;" target="_blank">Get an OpenID</a>';
g=d.createElement("div");a=g.style;a.fontWeight="bold";a.color="#082F42";a.backgroundColor="#B8E6F9";a.padding="2px 8px 2px 8px";g.appendChild(e);g.appendChild(d.createTextNode("Sign in with OpenID using"));var n=d.createElement("span");n.appendChild(d.createTextNode("xxx:"));var k=d.createElement("input");k.type="text";k.size=20;a=k.style;a.verticalAlign="middle";a.padding="2px 2px 2px 20px";a.backgroundRepeat="no-repeat";a.backgroundPosition="2px 2px";e=d.createElement("div");a=e.style;a.color=
"#082F42";a.padding="2px 8px 2px 8px";a.textAlign="right";a.position="relative";a.backgroundColor="#B8E6F9";e.appendChild(n);e.appendChild(d.createTextNode(" "));e.appendChild(k);var l=w.prototype={};l.onMouseOver=function(){this.selected||(this.td.style.backgroundColor="#cee1f8")};l.onMouseOut=function(){this.selected||(this.td.style.backgroundColor="")};l.onClick=function(){this.grid.select(this);var b=p[this.idx];-1==this.idx?(c.value="http://",c.focus()):b.openid2&&!b.openid1?(c.focus(),setTimeout(r,
1)):(k.focus(),k.select())};l.setSelected=function(b){this.td.style.backgroundColor=b?"#aeccf1":"";this.selected=b};l=y.prototype={};l.forward=function(){this.offset=Math.min(this.offset+12,this.maxOffset);this.gen()};l.back=function(){this.offset=Math.max(this.offset-12,0);this.gen()};l.gen=function(){for(var b=0;4>b;b++)for(var a=this.rows[b];a.firstChild;)a.removeChild(a.firstChild);for(b=0;12>b;b++){var a=this.rows[Math.floor(b/3)],c=this.cells[this.offset+b];c?a.appendChild(c.td):a.appendChild(d.createElement("td"))}t.style.visibility=
this.offset==this.maxOffset?"hidden":"";s.style.visibility=0==this.offset?"hidden":"";h.style.height=q.offsetHeight+2+"px"};l.select=function(b){this.curr&&this.curr.setSelected(!1);this.curr=b;b.setSelected(!0);if(-1<b.idx){b=p[b.idx];if(b.openid2&&!b.openid1)n.style.visibility="hidden",k.style.visibility="hidden",c.value=b.website;else{n.style.visibility="";k.style.visibility="";n.removeChild(n.firstChild);var a=d.createTextNode(b.longname+" "+b.usercalled+":");n.appendChild(a);k.style.backgroundImage=
"url(https://www.idselector.com/static/opicons/"+b.icon+")";c.value=b.url_prefix+"username"+b.url_suffix;k.value="username"}v.src="https://www.idselector.com/static/opicons/"+b.icon}else n.style.visibility="hidden",k.style.visibility="hidden",v.src="/images/openid/openid.ico"};l.setName=function(b){var a=p[this.curr.idx];c.value=a.url_prefix+b+a.url_suffix};var m=new y;m.gen();q.appendChild(g);q.appendChild(m.table);q.appendChild(e);j.onclick=function(b){"none"==h.style.display?u():r();b&&(b.cancelBubble=
!0);return!1};j.onfocus=function(){j.blur()};t.onclick=function(){m.forward()};s.onclick=function(){m.back()};c.onkeypress=function(b){var a;window.event?a=window.event.keyCode:b.which&&(a=b.which);13!=a&&9!=a&&m.select(m.otherCell)};k.onkeydown=function(b){var a;h.contentWindow.event?a=h.contentWindow.event.keyCode:b.which&&(a=b.which);(13==a||9==a)&&setTimeout(function(){c.onfocus=A;c.focus();setTimeout(r,1)},1)};k.onkeyup=function(){var a=this.value;a||(this.value=a="username",this.select());m.setName(a)};
var B=window.onresize;window.onresize=function(a){try{"block"==h.style.display&&u()}finally{B&&B(a)}};var C=window.onscroll;window.onscroll=function(a){try{"block"==h.style.display&&u()}finally{C&&C(a)}};m.curr||m.select(m.otherCell);c.onfocus=A;e=null;for(g=c.parentNode;g&&1==g.nodeType;){if("FORM"==g.nodeName){e=g;break}g=g.parentNode}if(e){var D=e.onsubmit;e.onsubmit=function(a){if(D)return D(a)}}window.ActiveXObject?document.body.parentNode.attachEvent("onclick",function(){window.event.srcElement!=
c&&window.event.srcElement!=j&&r()}):document.body.parentNode.addEventListener("click",function(a){a.target!=c&&a.target!=j&&r()},!1)}};
